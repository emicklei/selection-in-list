<html>
    <head>
        <style>
.column {
    float: left;
    width: 200px; 
    display:block;
    height: 250px;
    overflow:scroll;
}

/* Clear floats after the columns */
.row:after {
    content: "";
    display: table;
    clear: both;
}

selection-in-list.no-bullets {
  list-style-type: none; /* Remove bullets */
  padding: 0; /* Remove padding */
  margin: 0; /* Remove margins */
}

a {
    text-decoration: none;
    margin-left: 5px;
}

a.selected {
    color: yellow;
}

.selected {
    display: block;
    background-color: black;    
    width: 100%;
}
        </style>
    </head>    
    <body>
        <script>
            class SelectionInList extends HTMLElement {
                constructor() {
                    // Always call super first in constructor
                    super();
                    this.selectionEventHandler = null;
                    this.lastSelected = null;                    
                } 
                getLastSelected() { return this.lastSelected; }
                setLastSelected(what) { this.lastSelected = what; }

                addItem(label,value) {
                    let li = document.createElement('li');
                    let an = document.createElement('a');
                    an.setAttribute('data-value',value);
                    an.setAttribute('href','#');
                    an.setAttribute('onmouseup','javascript:select(this);');
                    an.textContent = label;
                    li.appendChild(an);
                    this.appendChild(li);
                }
                select(me) { 
                    console.log(me.dataset.value);
                    if (this.getLastSelected() !== null) { 
                        this.getLastSelected().parentNode.classList.remove('selected');
                        this.getLastSelected().classList.remove('selected');    
                    }
                    if (me === this.getLastSelected()) {
                        this.setLastSelected(null);
                        return;
                    }
                    me.parentNode.classList.add('selected');
                    me.classList.add('selected');
                    this.setLastSelected(me);
                }
            }
            // https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define#examples
            customElements.define('selection-in-list', SelectionInList);

            function select(me) {               
                me.parentNode.parentNode.select(me);
            }
            function keydown(event){
                if (event.code == 'ArrowUp') {
                    console.log(event);
                    event.preventDefault();
                }
            }
        </script>         
            <div class="row">
                <div class="column">
                    <selection-in-list id="list1" class="no-bullets" onkeydown="javascript:keydown(event);"><!-- in constructor? -->
                        <li><a data-value='{"dirname":"test1"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test2"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test3"}' onmouseup="javascript:select(this);" href="#">something else</a></li>
                        <li><a data-value='{"dirname":"test4"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test5"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test6"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test7"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test8"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test11"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test12"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test13"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test14"}' onmouseup="javascript:select(this);" href="#">short</a></li>
                        <li><a data-value='{"dirname":"test15"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test16"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test17"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test18"}' onmouseup="javascript:select(this);" href="#">something</a></li>                        
                    </selection-in-list>
                </div>
 
                <div class="column">
                    <selection-in-list id="list2" class="no-bullets">
                        <li><a data-value='{"dirname":"test1"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test2"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test3"}' onmouseup="javascript:select(this);" href="#">something else</a></li>
                        <li><a data-value='{"dirname":"test4"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test5"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test6"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test7"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test8"}' onmouseup="javascript:select(this);" href="#">something</a></li>                        
                        <li><a data-value='{"dirname":"test11"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test12"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test13"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test14"}' onmouseup="javascript:select(this);" href="#">short</a></li>
                        <li><a data-value='{"dirname":"test15"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test16"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test17"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                        <li><a data-value='{"dirname":"test18"}' onmouseup="javascript:select(this);" href="#">something</a></li>
                    </selection-in-list>
                </div>
            </div>
        <script>
            let list1 = document.querySelector('#list1');
            list1.addItem('added','{"dirname":"added"}');
        </script>
    </body>
</html>
